{"ast":null,"code":"import URLToolkit from 'url-toolkit';\nimport window from 'global/window';\nvar DEFAULT_LOCATION = 'http://example.com';\n\nvar resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeUrl)) {\n    return relativeUrl;\n  } // IE11 supports URL but not the URL constructor\n  // feature detect the behavior we want\n\n\n  var nativeURL = typeof window.URL === 'function';\n  var protocolLess = /^\\/\\//.test(baseUrl); // remove location if window.location isn't available (i.e. we're in node)\n  // and if baseUrl isn't an absolute url\n\n  var removeLocation = !window.location && !/\\/\\//i.test(baseUrl); // if the base URL is relative then combine with the current location\n\n  if (nativeURL) {\n    baseUrl = new window.URL(baseUrl, window.location || DEFAULT_LOCATION);\n  } else if (!/\\/\\//i.test(baseUrl)) {\n    baseUrl = URLToolkit.buildAbsoluteURL(window.location && window.location.href || '', baseUrl);\n  }\n\n  if (nativeURL) {\n    var newUrl = new URL(relativeUrl, baseUrl); // if we're a protocol-less url, remove the protocol\n    // and if we're location-less, remove the location\n    // otherwise, return the url unmodified\n\n    if (removeLocation) {\n      return newUrl.href.slice(DEFAULT_LOCATION.length);\n    } else if (protocolLess) {\n      return newUrl.href.slice(newUrl.protocol.length);\n    }\n\n    return newUrl.href;\n  }\n\n  return URLToolkit.buildAbsoluteURL(baseUrl, relativeUrl);\n};\n\nexport default resolveUrl;","map":{"version":3,"sources":["/home/marcelo/react/vtour/base/node_modules/@videojs/vhs-utils/es/resolve-url.js"],"names":["URLToolkit","window","DEFAULT_LOCATION","resolveUrl","baseUrl","relativeUrl","test","nativeURL","URL","protocolLess","removeLocation","location","buildAbsoluteURL","href","newUrl","slice","length","protocol"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,aAAvB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,IAAIC,gBAAgB,GAAG,oBAAvB;;AAEA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,OAApB,EAA6BC,WAA7B,EAA0C;AACzD;AACA,MAAI,YAAYC,IAAZ,CAAiBD,WAAjB,CAAJ,EAAmC;AACjC,WAAOA,WAAP;AACD,GAJwD,CAIvD;AACF;;;AAGA,MAAIE,SAAS,GAAG,OAAON,MAAM,CAACO,GAAd,KAAsB,UAAtC;AACA,MAAIC,YAAY,GAAG,QAAQH,IAAR,CAAaF,OAAb,CAAnB,CATyD,CASf;AAC1C;;AAEA,MAAIM,cAAc,GAAG,CAACT,MAAM,CAACU,QAAR,IAAoB,CAAC,QAAQL,IAAR,CAAaF,OAAb,CAA1C,CAZyD,CAYQ;;AAEjE,MAAIG,SAAJ,EAAe;AACbH,IAAAA,OAAO,GAAG,IAAIH,MAAM,CAACO,GAAX,CAAeJ,OAAf,EAAwBH,MAAM,CAACU,QAAP,IAAmBT,gBAA3C,CAAV;AACD,GAFD,MAEO,IAAI,CAAC,QAAQI,IAAR,CAAaF,OAAb,CAAL,EAA4B;AACjCA,IAAAA,OAAO,GAAGJ,UAAU,CAACY,gBAAX,CAA4BX,MAAM,CAACU,QAAP,IAAmBV,MAAM,CAACU,QAAP,CAAgBE,IAAnC,IAA2C,EAAvE,EAA2ET,OAA3E,CAAV;AACD;;AAED,MAAIG,SAAJ,EAAe;AACb,QAAIO,MAAM,GAAG,IAAIN,GAAJ,CAAQH,WAAR,EAAqBD,OAArB,CAAb,CADa,CAC+B;AAC5C;AACA;;AAEA,QAAIM,cAAJ,EAAoB;AAClB,aAAOI,MAAM,CAACD,IAAP,CAAYE,KAAZ,CAAkBb,gBAAgB,CAACc,MAAnC,CAAP;AACD,KAFD,MAEO,IAAIP,YAAJ,EAAkB;AACvB,aAAOK,MAAM,CAACD,IAAP,CAAYE,KAAZ,CAAkBD,MAAM,CAACG,QAAP,CAAgBD,MAAlC,CAAP;AACD;;AAED,WAAOF,MAAM,CAACD,IAAd;AACD;;AAED,SAAOb,UAAU,CAACY,gBAAX,CAA4BR,OAA5B,EAAqCC,WAArC,CAAP;AACD,CAnCD;;AAqCA,eAAeF,UAAf","sourcesContent":["import URLToolkit from 'url-toolkit';\nimport window from 'global/window';\nvar DEFAULT_LOCATION = 'http://example.com';\n\nvar resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeUrl)) {\n    return relativeUrl;\n  } // IE11 supports URL but not the URL constructor\n  // feature detect the behavior we want\n\n\n  var nativeURL = typeof window.URL === 'function';\n  var protocolLess = /^\\/\\//.test(baseUrl); // remove location if window.location isn't available (i.e. we're in node)\n  // and if baseUrl isn't an absolute url\n\n  var removeLocation = !window.location && !/\\/\\//i.test(baseUrl); // if the base URL is relative then combine with the current location\n\n  if (nativeURL) {\n    baseUrl = new window.URL(baseUrl, window.location || DEFAULT_LOCATION);\n  } else if (!/\\/\\//i.test(baseUrl)) {\n    baseUrl = URLToolkit.buildAbsoluteURL(window.location && window.location.href || '', baseUrl);\n  }\n\n  if (nativeURL) {\n    var newUrl = new URL(relativeUrl, baseUrl); // if we're a protocol-less url, remove the protocol\n    // and if we're location-less, remove the location\n    // otherwise, return the url unmodified\n\n    if (removeLocation) {\n      return newUrl.href.slice(DEFAULT_LOCATION.length);\n    } else if (protocolLess) {\n      return newUrl.href.slice(newUrl.protocol.length);\n    }\n\n    return newUrl.href;\n  }\n\n  return URLToolkit.buildAbsoluteURL(baseUrl, relativeUrl);\n};\n\nexport default resolveUrl;"]},"metadata":{},"sourceType":"module"}